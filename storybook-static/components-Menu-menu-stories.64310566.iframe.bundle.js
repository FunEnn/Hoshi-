"use strict";(self.webpackChunkennhoshi=self.webpackChunkennhoshi||[]).push([[491],{"./src/components/Menu/menu.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{HMenu:()=>HMenu,SbMenu:()=>SbMenu,VMenu:()=>VMenu,__namedExportsOrder:()=>__namedExportsOrder,default:()=>menu_stories});var react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const MenuContext=(0,react.createContext)({index:"0"}),Menu=props=>{const{className,mode,style,children,defaultIndex,onSelect,defaultOpenSubMenus}=props,[currentActive,setActive]=(0,react.useState)(defaultIndex),classes=classnames_default()("Hoshi-menu",className,{"menu-vertical":"vertical"===mode,"menu-horizontal":"vertical"!==mode}),passedContext={index:currentActive||"0",onSelect:index=>{setActive(index),onSelect&&onSelect(index)},mode,defaultOpenSubMenus};return(0,jsx_runtime.jsx)("ul",{className:classes,style,"data-testid":"test-menu",children:(0,jsx_runtime.jsx)(MenuContext.Provider,{value:passedContext,children:react.Children.map(children,((child,index)=>{const childElement=child,{displayName}=childElement.type;if("MenuItem"===displayName||"SubMenu"===displayName)return react.cloneElement(childElement,{index:index.toString()});console.error("Warning: Menu has a child which is not a MenuItem component")}))})})};Menu.defaultProps={defaultIndex:"0",mode:"horizontal",defaultOpenSubMenus:[]};Menu.__docgenInfo={description:"",methods:[],displayName:"Menu",props:{defaultIndex:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'0'",computed:!1}},className:{required:!1,tsType:{name:"string"},description:""},mode:{required:!1,tsType:{name:"union",raw:"'horizontal' | 'vertical'",elements:[{name:"literal",value:"'horizontal'"},{name:"literal",value:"'vertical'"}]},description:"",defaultValue:{value:"'horizontal'",computed:!1}},style:{required:!1,tsType:{name:"CSSProperties"},description:""},onSelect:{required:!1,tsType:{name:"signature",type:"function",raw:"(selectedIndex: string) => void",signature:{arguments:[{type:{name:"string"},name:"selectedIndex"}],return:{name:"void"}}},description:""},defaultOpenSubMenus:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:"",defaultValue:{value:"[]",computed:!1}},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};const MenuItem=props=>{const{index,disabled,className,style,children}=props,context=(0,react.useContext)(MenuContext),classes=classnames_default()("menu-item",className,{"is-disabled":disabled,"is-active":context.index===index});return(0,jsx_runtime.jsx)("li",{className:classes,style,onClick:()=>{context.onSelect&&!disabled&&"string"==typeof index&&context.onSelect(index)},children})};MenuItem.displayName="MenuItem";MenuItem.__docgenInfo={description:"",methods:[],displayName:"MenuItem",props:{index:{required:!1,tsType:{name:"string"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},className:{required:!1,tsType:{name:"string"},description:""},style:{required:!1,tsType:{name:"ReactCSSProperties",raw:"React.CSSProperties"},description:""},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};var icon=__webpack_require__("./src/components/Icon/icon.tsx"),transition=__webpack_require__("./src/components/Transition/transition.tsx");const SubMenu=_ref=>{let{index,title,children,className}=_ref;const context=(0,react.useContext)(MenuContext),openedSubMenus=context.defaultOpenSubMenus,isOpend=!(!index||"vertical"!==context.mode)&&openedSubMenus.includes(index),[menuOpen,setOpen]=(0,react.useState)(isOpend),classes=classnames_default()("menu-item submenu-item",className,{"is-active":context.index===index,"is-opened":menuOpen,"is-vertical":"vertical"===context.mode});let timer;const handleMouse=(e,toggle)=>{clearTimeout(timer),e.preventDefault(),timer=setTimeout((()=>{setOpen(toggle)}),300)},clickEvents="vertical"===context.mode?{onClick:e=>{e.preventDefault(),setOpen(!menuOpen)}}:{},hoverEvents="vertical"!==context.mode?{onMouseEnter:e=>{handleMouse(e,!0)},onMouseLeave:e=>{handleMouse(e,!1)}}:{};return(0,jsx_runtime.jsxs)("li",{className:classes,...hoverEvents,children:[(0,jsx_runtime.jsxs)("div",{className:"submenu-title",...clickEvents,children:[title,(0,jsx_runtime.jsx)(icon.A,{icon:"angle-down",className:"arrow-icon"})]}),(()=>{const subMenuClasses=classnames_default()("Hoshi-submenu",{"menu-opened":menuOpen}),childrenComponent=react.Children.map(children,((child,i)=>{const childElement=child;if("MenuItem"===childElement.type.displayName)return react.cloneElement(childElement,{index:`${index}-${i}`});console.error("Warning: SubMenu has a child which is not a MenuItem component")}));return(0,jsx_runtime.jsx)(transition.A,{in:menuOpen,timeout:300,animation:"zoom-in-top",children:(0,jsx_runtime.jsx)("ul",{className:subMenuClasses,children:childrenComponent})})})()]},index)};SubMenu.displayName="SubMenu";const subMenu=SubMenu;SubMenu.__docgenInfo={description:"",methods:[],displayName:"SubMenu",props:{index:{required:!1,tsType:{name:"string"},description:""},title:{required:!0,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:""},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};const menu_stories={title:"Menu Component",component:Menu},HMenu=()=>(0,jsx_runtime.jsxs)(Menu,{mode:"horizontal",children:[(0,jsx_runtime.jsx)(MenuItem,{children:"nav 1"},"1"),(0,jsx_runtime.jsx)(MenuItem,{children:"nav 2"},"2"),(0,jsx_runtime.jsx)(MenuItem,{children:"nav 3"},"3"),(0,jsx_runtime.jsx)(MenuItem,{children:"nav 4"},"4")]});HMenu.storyName="横向 Menu";const VMenu=()=>(0,jsx_runtime.jsxs)(Menu,{mode:"vertical",children:[(0,jsx_runtime.jsx)(MenuItem,{children:"nav 1"},"1"),(0,jsx_runtime.jsx)(MenuItem,{children:"nav 2"},"2"),(0,jsx_runtime.jsx)(MenuItem,{children:"nav 3"},"3"),(0,jsx_runtime.jsx)(MenuItem,{children:"nav 4"},"4")]});VMenu.storyName="纵向 Menu";const SbMenu=()=>(0,jsx_runtime.jsxs)(Menu,{children:[(0,jsx_runtime.jsx)(MenuItem,{children:"nav 1"},"1"),(0,jsx_runtime.jsxs)(subMenu,{title:"sub menu",children:[(0,jsx_runtime.jsx)(MenuItem,{children:"nav 2"},"2"),(0,jsx_runtime.jsx)(MenuItem,{children:"nav 3"},"3"),(0,jsx_runtime.jsx)(MenuItem,{children:"nav 4"},"4")]}),(0,jsx_runtime.jsx)(MenuItem,{children:"nav 2"},"2")]});SbMenu.storyName="分类 Menu";const __namedExportsOrder=["HMenu","VMenu","SbMenu"];HMenu.parameters={...HMenu.parameters,docs:{...HMenu.parameters?.docs,source:{originalSource:'() => {\n  return <Menu mode="horizontal">\r\n      <MenuItem key="1">nav 1</MenuItem>\r\n      <MenuItem key="2">nav 2</MenuItem>\r\n      <MenuItem key="3">nav 3</MenuItem>\r\n      <MenuItem key="4">nav 4</MenuItem>\r\n    </Menu>;\n}',...HMenu.parameters?.docs?.source}}},VMenu.parameters={...VMenu.parameters,docs:{...VMenu.parameters?.docs,source:{originalSource:'() => {\n  return <Menu mode="vertical">\r\n      <MenuItem key="1">nav 1</MenuItem>\r\n      <MenuItem key="2">nav 2</MenuItem>\r\n      <MenuItem key="3">nav 3</MenuItem>\r\n      <MenuItem key="4">nav 4</MenuItem>\r\n    </Menu>;\n}',...VMenu.parameters?.docs?.source}}},SbMenu.parameters={...SbMenu.parameters,docs:{...SbMenu.parameters?.docs,source:{originalSource:'() => {\n  return <Menu>\r\n      <MenuItem key="1">nav 1</MenuItem>\r\n      <SubMenu title="sub menu">\r\n        <MenuItem key="2">nav 2</MenuItem>\r\n        <MenuItem key="3">nav 3</MenuItem>\r\n        <MenuItem key="4">nav 4</MenuItem>\r\n      </SubMenu>\r\n      <MenuItem key="2">nav 2</MenuItem>\r\n    </Menu>;\n}',...SbMenu.parameters?.docs?.source}}}},"./src/components/Transition/transition.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var react_transition_group__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-transition-group/esm/CSSTransition.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Transition=_ref=>{let{animation,className,children,wrapper,...restProps}=_ref;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_transition_group__WEBPACK_IMPORTED_MODULE_2__.A,{timeout:300,classNames:className||animation,...restProps,children:wrapper?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{children}):children})};Transition.defaultProps={unmountOnExit:!0,appear:!0};const __WEBPACK_DEFAULT_EXPORT__=Transition;Transition.__docgenInfo={description:"",methods:[],displayName:"Transition",props:{animation:{required:!1,tsType:{name:"union",raw:'| "zoom-in-top"\n| "zoom-in-left"\n| "zoom-in-bottom"\n| "zoom-in-right"',elements:[{name:"literal",value:'"zoom-in-top"'},{name:"literal",value:'"zoom-in-left"'},{name:"literal",value:'"zoom-in-bottom"'},{name:"literal",value:'"zoom-in-right"'}]},description:""},className:{required:!1,tsType:{name:"string"},description:""},wrapper:{required:!1,tsType:{name:"boolean"},description:""},children:{required:!1,tsType:{name:"ReactNode"},description:""},unmountOnExit:{defaultValue:{value:"true",computed:!1},required:!1},appear:{defaultValue:{value:"true",computed:!1},required:!1}}}}}]);